<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, user-scalable=no" />
		<title>What Is My IP Adress</title>
		
		<!-- FxOS Building blocks -->
		<link rel="stylesheet" href="style/buttons.css">
		<link rel="stylesheet" href="style/headers.css">
		<link rel="stylesheet" href="style/input_areas.css">

		<!-- Util CSS: some extra tricks -->
		<link rel="stylesheet" href="util.css">
		<link rel="stylesheet" href="fonts.css">

		<style>
			#content {
				margin: 1rem;
			}
			#helpdoc p {
				font-size: 1em;
			}
			.ipaddr {
				font-size: 1.5em;
			}
			fieldset legend {
				width: 11.5rem;
				padding-left: 0.5rem;
			}
			fieldset section {
				margin-left: 11.5rem;
				margin-right: 0.5rem;
			}
			fieldset p {
				line-height: 1.4em;
				text-align: right;
			}
			button {
				margin-top: 1.5rem;
			}
		</style>
	</head>

	<body>
		<section id="drawer" role="region">
		<header>
		<h1>What Is My IP Address?</h1>
		</header>
		<div role="main" id="content">
			<form>
			<fieldset>
				<legend>Internet IP</legend>
				<section>
				<p id="InternetIpVal" class="ipaddr"></p>
				</section>
			</fieldset>
		</form>
			<button onClick="checkIp()">Recheck IP Address</button>

			<div id="helpdoc">
				<h2>What is an Internet IP?</h2>
				<p>Your Internet IP is the address websites see when you browse
				them. This is called the WAN (Wide Area Network) address. You will only
				have a WAN address if you are connected to the internet.</p>
			</div>
		</div>
		</section>

		<script>
			function getInternetIp() {
				var field = document.getElementById("InternetIpVal");
				field.textContent = "Checking...";

				xmlhttp = new XMLHttpRequest();
				xmlhttp.open("GET", "http://danieru.com/ip_reflector/reflectIp.php", false);
				xmlhttp.send();

				var raw = xmlhttp.responseText;
				console.log(raw);
				field.textContent = raw;
			}

			function checkIp() {
				getInternetIp();
			}
			checkIp();
		</script>
	</body>
</html>

